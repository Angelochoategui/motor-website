---
id: Pie
title: Pie
sidebar_label: Pie
---

#### Pie chart. A chart displaying data represent as a pie or donut chart.

## Usage

We recommend you start by wrapping your React document with the Motor parent component.
This handles two things:

- Connection to the Qlik Engine (you can pass configuration or the engine object directly)
- Theming

The simpliest method to render a Pie chart is to add a Pie element to the page and set the cols props.

```javascript

import { Pie } from @motor-js/core
//...
<Pie cols={["[Product Sub Group Desc]", "=Sum([Sales Quantity])"]} />

```

This can get more complex by setting various other propertes with in the cols property which will allow for the naming of columns and the ability to sort the data.

A more advanced version demonstrating this is displayed below.

## Props

:::info
You do not need to set the Config prop if the component is a child of the Motor component
:::

<table>
  <tr>
    <th>Prop</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <td>
      <code>config</code>
    </td>
    <td>
      Configuration object to connect to the Qlik Engine, only set this if used
      outside of the Motor component.
    </td>
    <td>
      <code>object</code> <br />
      &#123; <br />
      host: "xxxxxxxxx", <br />
      secure: false, <br />
      port: xxxxx, <br />
      prefix: "", <br />
      appId: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx", &#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>cols</code>
    </td>
    <td>Columns from Qlik Data Model to render in the chart. </td>
    <td>
      <code>array</code> <br />
      &#123;[
      <br />
      "Case Owner Group",
      <br />
      "=Avg([Case Duration Time])"
      <br />
      ]&#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>calcCondition</code>
    </td>
    <td>Calculated condition to be met before chart can be displayed.</td>
    <td>
      <code>shape</code> <br />
      &#123; <br />
      qCond: "=Avg([Case Duration Time])> 5", <br />
      qMsg: "Calculation condition has not been met", <br />
      &#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>suppressZero</code>
    </td>
    <td>Suppress items whith zero values from being displayed in the chart</td>
    <td>
      <code>boolean</code> <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>width</code>
    </td>
    <td>Chart width in percentage or value as pixels</td>
    <td>
      <code>string</code>
      <br />
      <b>'100%'</b>
      <br />
      '200px'
    </td>
  </tr>
  <tr>
    <td>
      <code>height</code>
    </td>
    <td>Chart height in percentage or value as pixels</td>
    <td>
      <code>string</code>
      <br />
      <b>'100%'</b>
      <br />
      '200px'
    </td>
  </tr>
  <tr>
    <td>
      <code>margin</code>
    </td>
    <td>The amount of margin around the component</td>
    <td>
      <code>string</code>
      <br />
      <b>'5px'</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>size</code>
    </td>
    <td>Size of the text used in the chart</td>
    <td>
      <code>oneOf</code>
      <br />
      'tiny'
      <br />
      'small'
      <br />
      <b>'medium'</b>
      <br />
      'large'
      <br />
      'xlarge'
    </td>
  </tr>
  <tr>
    <td>
      <code>fontColor</code>
    </td>
    <td>Color of the labels for the chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>border</code>
    </td>
    <td>Border to be dispalyed around the chart</td>
    <td>
      <code>boolean</code>
      <br />
      <code>oneOf</code>
      <br />
      "top"
      <br />
      "left"
      <br />
      "bottom"
      <br />
      "right"
      <br />
      "start"
      <br />
      "end"
      <br />
      "horizontal"
      <br />
      "vertical"
      <br />
      "all"
      <br />
      "between"
      <br />
      "none"
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Background color the chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>borderRadius</code>
    </td>
    <td>Border radius of the border around the chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>chartColor</code>
    </td>
    <td>Color scheme to be used for the chart</td>
    <td>
      <code>array</code>
      <br />
      <code>oneOf</code>
      <br />
      "divergent13"
      <br />
      "divergent9"
      <br />
      "goya"
      <br />
      "red"
      <br />
      "blue"
      <br />
      "gray"
      <br />
      "pink"
      <br />
      "grape"
      <br />
      "violet"
      <br />
      "indigo"
      <br />
      "blue"
      <br />
      "cyan"
      <br />
      "teal"
      <br />
      "green"
      <br />
      "lime"
      <br />
      "yellow"
      <br />
      "orange"
      <br />
      "base"
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>roundNum</code>
    </td>
    <td>Use round numbering to dispaly labels on charts</td>
    <td>
      <code>bool</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>title</code>
    </td>
    <td>Title to be dispalyed on top of chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>subTitle</code>
    </td>
    <td>Sub title to be dispalyed on top of chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>allowSelections</code>
    </td>
    <td>Allow selections to be made on the chart</td>
    <td>
      <code>bool</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>showLegend</code>
    </td>
    <td>Display chart legend.</td>
    <td>
      <code>number</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>innerRadius</code>
    </td>
    <td>Inner radius of chart. Set this for a donut chart.</td>
    <td>
      <code>number</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>cornerRadius</code>
    </td>
    <td>Corner radius of chart. Have rounded corders on each slice.</td>
    <td>
      <code>number</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>padAngle</code>
    </td>
    <td>Padding angle on chart..</td>
    <td>
      <code>number</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>dimensionErrMsg</code>
    </td>
    <td>
      Message to be displayed if an invalid dimension is used in the cols
      property
    </td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>measureErrMsg</code>
    </td>
    <td>
      Message to be displayed if an invalid measure is used in the cols property
    </td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>showLabels</code>
    </td>
    <td>Display text label of each slice</td>
    <td>
      <code>bool</code>
      <br />
      <code>oneOf</code>
      <br />
      "inside" <br /> "outside" <br /> "altStyle" <br /> "none" <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>otherTotalSpec</code>
    </td>
    <td>
      Message to be displayed if an invalid measure is used in the cols property
    </td>
    <td>
      <code>bool</code>
      <br />
      <code>shape</code>
      <br />
      &#123; <br />
      qOtherLabel: "Other", <br />
      qOtherCount: "5", <br />
      &#125;
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
</table>

## Sample syntax

### config settings

```jsx {4-9}
import { Pie } from 'motor-ui'

<Pie
  config={{
    host: "xxxxxxxxx",
    secure: false,
    port: xxxxx,
    prefix: "",
    appId: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx",
  }}
  ......
/>
```

### cols settings

<h4>Overview</h4>
There are three different ways of specifying the columns:

- As a string.
- As an Object
- As a reference to a predefined dimension or measure, a so-called master item.

<b>String syntax</b>
<br />

If a string starts with =, it will be treated as a measure, otherwise it is
treated as a dimension.

```jsx {4-7}
import { Pie } from "motor-ui";

<Pie
  cols={[
  "Case Owner Group",
  "=Avg([Case Duration Time])"
]}
  ....
/>
```

<b>Object syntax</b>
<br />

Use the object syntax if you want to set more options for your columns. If you. for example, create a pivot table with labels, you should use qFieldLabels for dimensions and qLabel for measures.

```jsx {4-28}
import { Pie } from "motor-ui";

<Pie
  cols={[
  /*dimension*/
  "Year",
  /*dimension with label*/
  {
    "qDef": {
      "qFieldDefs": ["Case Owner Group"],
      "qFieldLabels": ["Group"]
    }
  },
  /*measure with label*/
  {
    "qDef": {
      "qDef": "=Avg([Case Duration Time])",
      "qLabel": "Avg Case Duration Time"
    }
  },
]}
  ....
/>
```

<b>Predefined dimensions and measures syntax</b>
<br />

You can use dimensions and measures that are predefined in the app. This is mostly relevant if the user should be able to select dimensions and measures from lists. You must know the Dimension ID or the Measure ID, which is defined in the qLibraryID property. You must also state if it is a measure or a dimension in the qType property.

```jsx {4-8}
import { Pie } from "motor-ui";

<Pie
  cols={[
  {
    "qLibraryId":"eqZjE",
    "qType":"measure"
  }
]}
  ....
/>
```

### calcCondition settings

```jsx {5-8}
import { Pie } from "motor-ui";

  <Pie
    ....
    calcCondition={{
      qCond: '1+1=2',
      qMsg: 'Calculation condition has not been met',
    }}
  />
```

### otherTotalSpec settings

```jsx {5-8}
import { Pie } from "motor-ui";

  <Pie
   ....
          otherTotalSpec={{
             qOtherLabel: 'Other',
             qOtherCount: '5'
           }}
     />
```

## Examples

These examples are based off the Consumer Sales Qlik Sense application.

### Chart sorted by descending values

The first example is a pie chart sorted by Revenue descending.

```jsx live
function ColumnDemo() {
  return (
    <Motor config={config}>
      <Pie
        title="Revenue by Product Sub Group"
        subTitle="Revenue figures from the Consumer Sales Qlik Sense application"
        height="50%"
        cols={[
          { qField: "[Product Sub Group Desc]", qLabel: "Product Sub Group" },
          {
            qField: "=Sum( [Sales Quantity]*[Sales Price])",
            qLabel: "Revenue",
          },
        ]}
        columnSortOrder={[1, 0]}
      />
    </Motor>
  );
}
```

### Legend removed, No selections and Others

This exmaple removes the legend and has selections disabled and has Others set as 5 items.

```jsx live
function ColumnDemo() {
  return (
    <Motor config={config}>
      <Pie
        title="Revenue by Product Sub Group"
        subTitle="Revenue figures from the Consumer Sales Qlik Sense application"
        height="50%"
        cols={[
          { qField: "[Product Sub Group Desc]", qLabel: "Product Sub Group" },
          {
            qField: "=Sum( [Sales Quantity]*[Sales Price])",
            qLabel: "Revenue",
          },
        ]}
        allowSelections={false}
        showLegend="none"
        otherTotalSpec={{
          qOtherLabel: "Other",
          qOtherCount: "5",
        }}
      />
    </Motor>
  );
}
```

### Donut chart with corner radius

This exmaple removes the legend and has selections disabled and has Others set as 5 items.

```jsx live
function ColumnDemo() {
  return (
    <Motor config={config}>
      <Pie
        title="Revenue by Product Sub Group"
        subTitle="Revenue figures from the Consumer Sales Qlik Sense application"
        height="50%"
        cols={[
          { qField: "[Product Sub Group Desc]", qLabel: "Product Sub Group" },
          {
            qField: "=Sum( [Sales Quantity]*[Sales Price])",
            qLabel: "Revenue",
          },
        ]}
        allowSelections={false}
        showLegend="none"
        innerRadius={55}
        cornerRadius={5}
        padAngle={0.03}
        showLabels="outside"
      />
    </Motor>
  );
}
```

## Theme API

All components are styled from the main theme. Each theme can be overwtitten which will allow for all charts to share common functionality without having to set the props at an individual level.

Most of the chart settings are in global.chart. Changing any setting in the above will apply to all charts within the application. Specific pie chart related theme items are stored in pie. Changing these settings will apply to all pie charts within the application.

Theme settings can be overwritten at a global level. An example of changing the theme colors and disabling selections is below.

Theme settings can be overwritten at a global level. There are 2 possible approaches. Examples are shown below.

```javascript

import { Motor, ... } from @motor-js/core
//...

  const myTheme = {
    global: {
      colorTheme: "divergent9",
    },
  };

  <Motor config={config} theme={myTheme}>
    ...
  </Motor>

```

```javascript

import { Motor, ... } from @motor-js/core
//...
  <Motor config={config} theme={base}>
   { base.global.colorTheme = "divergent9"}
   { base.global.chart.allowSelections = false}
    ...
  </Motor>

```

```

### global.chart

Settings in global.chart are below :

<table>
  <tr>
    <th>Setting</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <td>
      <code>allowSelections</code>
    </td>
    <td>Allows to enable / disable selctions on charts at a global level.</td>
    <td>
      <code>bool</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Apply a background color to all charts within the application.</td>
    <td>
      <code>string</code> <br />
      "white"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderRadius</code>
    </td>
    <td>Border radius for all charts.</td>
    <td>
      <code>string</code> <br />
      "10px"
    </td>
  </tr>
  <tr>
    <td>
      <code>userSelect</code>
    </td>
    <td>CSS user-select property.</td>
    <td>
      <code>string</code> <br />
      "none"
    </td>
  </tr>
  <tr>
    <td>
      <code>suppressZero</code>
    </td>
    <td>Suppress zeros on charts.</td>
    <td>
      <code>bool</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>showLegend</code>
    </td>
    <td>Display chart legend.</td>
    <td>
      <code>bool</code> <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>display</code>
    </td>
    <td>CSS Display of the chart object</td>
    <td>
      <code>string</code>
      <br />
      "inline-block"
    </td>
  </tr>
  <tr>
    <td>
      <code>boxSizing</code>
    </td>
    <td>CSS box sizing of the chart object</td>
    <td>
      <code>string</code>
      <br />
      "border-box"
    </td>
  </tr>
  <tr>
    <th>
      <code>border</code>
    </th>
    <th colspan="2">
      <code>global.chart.border</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>color</code>
    </td>
    <td>Color of the border around the chart</td>
    <td>
      <code>string</code>
      <br />
      "var(--oc-gray-4)"
    </td>
  </tr>
  <tr>
    <td>
      <code>size</code>
    </td>
    <td>Size of border around the chart</td>
    <td>
      <code>string</code>
      <br />
      "1px"
    </td>
  </tr>
  <tr>
    <td>
      <code>style</code>
    </td>
    <td>Style of the border around the chart</td>
    <td>
      <code>string</code>
      <br />
      "solid"
    </td>
  </tr>
  <tr>
    <td>
      <code>radius</code>
    </td>
    <td>Style of the border around the chart</td>
    <td>
      <code>string</code>
      <br />
      "8px"
    </td>
  </tr>
  <tr>
    <th>
      <code>selection</code>
    </th>
    <th colspan="2">
      <code>global.chart.selection</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>opacity</code>
    </td>
    <td>Opacity of the item selected</td>
    <td>
      <code>number</code>
      <br />1
    </td>
  </tr>
  <tr>
    <td>
      <code>stroke</code>
    </td>
    <td>Stroke of the item selected</td>
    <td>
      <code>string</code>
      <br />
      "black"
    </td>
  </tr>
  <tr>
    <td>
      <code>strokeWidth</code>
    </td>
    <td>Stroke width of the item selected</td>
    <td>
      <code>string</code>
      <br />
      "1px"
    </td>
  </tr>
  <tr>
    <th>
      <code>nonSelection</code>
    </th>
    <th colspan="2">
      <code>global.chart.nonSelection</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>opacity</code>
    </td>
    <td>Opacity of the items not selected</td>
    <td>
      <code>number</code>
      <br />
      0.5
    </td>
  </tr>
  <tr>
    <td>
      <code>background</code>
    </td>
    <td>Background of the items not selected</td>
    <td>
      <code>string</code>
      <br />
      "var(--oc-gray-1)"
    </td>
  </tr>
  <tr>
    <th>
      <code>label</code>
    </th>
    <th colspan="2">
      <code>global.chart.label</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>fontColor</code>
    </td>
    <td>Label color</td>
    <td>
      <code>string</code>
      <br />
      "fontAlt"
    </td>
  </tr>
  <tr>
    <th>
      <code>noData</code>
    </th>
    <th colspan="2">
      <code>global.chart.noData</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>verticalAlign</code>
    </td>
    <td>Alignment of main object to display no data message</td>
    <td>
      <code>string</code>
      <br />
      "top"
    </td>
  </tr>
  <tr>
    <td>
      <code>display</code>
    </td>
    <td>Display of main object to display no data message</td>
    <td>
      <code>string</code>
      <br />
      "inline-block"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderRadius</code>
    </td>
    <td>Border radius of main object to display no data message</td>
    <td>
      <code>string</code>
      <br />
      "10px"
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Background color of main object to display no data message</td>
    <td>
      <code>string</code>
      <br />
      "var(--oc-gray-1)"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderCollapse</code>
    </td>
    <td>Border collapse of main object to display no data message</td>
    <td>
      <code>string</code>
      <br />
      "collapse"
    </td>
  </tr>
  <tr>
    <th>
      <code>noDataContent</code>
    </th>
    <th colspan="2">
      <code>global.chart.noDataContent</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>display</code>
    </td>
    <td>Display attribute for the no data message</td>
    <td>
      <code>string</code>
      <br />
      "inline-block"
    </td>
  </tr>
  <tr>
    <td>
      <code>alignItems</code>
    </td>
    <td>Alignment attribute for the no data message</td>
    <td>
      <code>string</code>
      <br />
      "center"
    </td>
  </tr>
  <tr>
    <td>
      <code>justifyContent</code>
    </td>
    <td>Justify attribute for the no data message</td>
    <td>
      <code>string</code>
      <br />
      "center"
    </td>
  </tr>
  <tr>
    <td>
      <code>margin</code>
    </td>
    <td>Margin attribute for the no data message</td>
    <td>
      <code>string</code>
      <br />
      "10px"
    </td>
  </tr>
  <tr>
    <th>
      <code>error</code>
    </th>
    <th colspan="2">
      <code>global.chart.error</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>dimensionErrMsg</code>
    </td>
    <td>error mesage for invalid dimension</td>
    <td>
      <code>string</code>
      <br />
      "Invalid Dimension."
    </td>
  </tr>
  <tr>
    <td>
      <code>measureErrMsg</code>
    </td>
    <td>error mesage for invalid measure</td>
    <td>
      <code>string</code>
      <br />
      "Invalid Measure. No values returned."
    </td>
  </tr>
</table>

### pie

Settings in pie are below :

e.g. <code>pie.main.otherTotalSpec = {{qOtherLabel: 'Other', qOtherCount: '5'}}</code>

<table>
  <tr>
    <th>Setting</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <th>
      <code>main</code>
    </th>
    <th colspan="2">
      <code>pie.main</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>otherTotalSpec</code>
    </td>
    <td>Setting at which 'Others' will be dispalyed on chart</td>
    <td>
      <code>bool</code>
      <br />
      <code>shape</code>
      <br />
      See sample syntax above <br />
    </td>
  </tr>
</table>
```

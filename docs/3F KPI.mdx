---
id: KPI
title: KPI
sidebar_label: KPI
---

#### KPI. A component displaying data as a single numeric value.

## Usage

```javascript

import { KPI } from @motor-js/core
//...
<KPI cols={[ "=Sum([Sales Quantity])"]} />

```

This can get more complex by setting various other propertes within the cols property which will allow for the naming of columns and the ability to sort the data.

A more advanced version demonstrating this is displayed below.

## Props

:::info
You do not need to set the Config prop if the component is a child of the Motor component
:::

<table>
  <tr>
    <th>Prop</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <td>
      <code>config</code>
    </td>
    <td>
      Configuration object to connect to the Qlik Engine, only set this if used
      outside of the Motor component.
    </td>
    <td>
      <code>object</code>
      <br />
      &#123;
      <br />
      host: "xxxxxxxxx",
      <br />
      secure: false,
      <br />
      port: xxxxx,
      <br />
      prefix: "",
      <br />
      appId: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx", &#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>label</code>
    </td>
    <td>label to apear on the top of the KPI value</td>
    <td>
      <code>string</code>
      <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>cols</code>
    </td>
    <td>Columns from Qlik Data Model to render in the chart. </td>
    <td>
      <code>array</code>
      <br />
      &#123;[
      <br />
      "=Avg([Case Duration Time])"
      <br />
      ]&#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>calcCondition</code>
    </td>
    <td>Calculated condition to be met before chart can be displayed.</td>
    <td>
      <code>shape</code>
      <br />
      &#123;
      <br />
      qCond: "=Avg([Case Duration Time])> 5",
      <br />
      qMsg: "Calculation condition has not been met",
      <br />
      &#125;
    </td>
  </tr>
  <tr>
    <td>
      <code>width</code>
    </td>
    <td>Chart width in percentage or value as pixels</td>
    <td>
      <code>string</code>
      <br />
      <b>'100%'</b>
      <br />
      '200px'
    </td>
  </tr>
  <tr>
    <td>
      <code>margin</code>
    </td>
    <td>The amount of margin around the component</td>
    <td>
      <code>string</code>
      <br />
      <b>'5px'</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>size</code>
    </td>
    <td>Size of the text used in the chart</td>
    <td>
      <code>oneOf</code>
      <br />
      'tiny'
      <br />
      'small'
      <br />
      <b>'medium'</b>
      <br />
      'large'
      <br />
      'xlarge'
    </td>
  </tr>
  <tr>
    <td>
      <code>color</code>
    </td>
    <td>Color of the KPI value</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>justifyContent</code>
    </td>
    <td>The alignment of the text within the component </td>
    <td>
      <code>oneOf</code>
      <br />
      "flex-start"
      <br />
      "center"
      <br />
      "flex-end"
      <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>textAlign</code>
    </td>
    <td>Alignment of KPI label and Value relative to their container </td>
    <td>
      <code>oneOf</code>
      <br />
      "left"
      <br />
      "center"
      <br />
      "right"
      <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>roundNum</code>
    </td>
    <td>Round vlaue and display large numbers with symbol e.g K for '000s</td>
    <td>
      <code>bool</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>precision</code>
    </td>
    <td>
      Precision if RoundNum set to true. True equals 2 deciamls places, false
      equals none
    </td>
    <td>
      <code>bool</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>labelColor</code>
    </td>
    <td>Color of the KPI label</td>
    <td>
      <code>string</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>alignSelf</code>
    </td>
    <td>Alignment of the KPI Label</td>
    <td>
      <code>oneOf</code>
      <br />
      "flex-start"
      <br />
      "center"
      <br />
      "flex-end"
      <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>padding</code>
    </td>
    <td>Padding of the KPI</td>
    <td>
      <code>string</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>maxWidth</code>
    </td>
    <td>Max width of the KPI, text will be wrapped</td>
    <td>
      <code>string</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>border</code>
    </td>
    <td>Border to be dispalyed around the chart</td>
    <td>
      <code>boolean</code>
      <br />
      <code>oneOf</code>
      <br />
      "top"
      <br />
      "left"
      <br />
      "bottom"
      <br />
      "right"
      <br />
      "start"
      <br />
      "end"
      <br />
      "horizontal"
      <br />
      "vertical"
      <br />
      "all"
      <br />
      "between"
      <br />
      "none"
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Background color the chart</td>
    <td>
      <code>string</code>
      <br />
      <b>* default obtained from theme.</b>
    </td>
  </tr>
  <tr>
    <td>
      <code>responsive</code>
    </td>
    <td>Whether the KPI size should scale for tablet and mobile</td>
    <td>
      <code>bool</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>onClick</code>
    </td>
    <td>Event function to execute when button is clicked</td>
    <td>
      <code>func</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>cursor</code>
    </td>
    <td>Cursor style on hover</td>
    <td>
      <code>string</code>
    </td>
  </tr>
  <tr>
    <td>
      <code>autoSizeValue</code>
    </td>
    <td>
      Automatically resize the label if it is too large for the min wrapper
    </td>
    <td>
      <code>bool</code>
    </td>
  </tr>
</table>

## Sample Syntax

### config settings

```jsx {4-9}
import { KPI } from '@motor-js/core'

<KPI
  config={{
    host: "xxxxxxxxx",
    secure: false,
    port: xxxxx,
    prefix: "",
    appId: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx",
  }}
  ......
/>
```

### cols settings

<h4>Overview</h4>
There are three different ways of specifying the columns:

- As a string.
- As an Object
- As a reference to a predefined dimension or measure, a so-called master item.

<b>String syntax</b>
<br />

If a string starts with =, it will be treated as a measure, otherwise it is
treated as a dimension.

```jsx {4-7}
import { KPI } from "@motor-js/core";

<KPI
  cols={[
  "=Avg([Case Duration Time])"
]}
  ....
/>
```

<b>Object syntax</b>
<br />

Use the object syntax if you want to set more options for your columns. If you. for example, create a pivot table with labels, you should use qFieldLabels for dimensions and qLabel for measures. Note the qLable is not used in this implementation of the KPI. The lable comes from the lable property

```jsx {4-28}
import { KPI } from "@motor-js/core";

<KPI
  cols={[
  /*measure with label*/
  {
    "qDef": {
      "qDef": "=Avg([Case Duration Time])",
      "qLabel": "Avg Case Duration Time"
    }
  },
]}
  ....
/>
```

<b>Predefined dimensions and measures syntax</b>
<br />

You can use dimensions and measures that are predefined in the app. This is mostly relevant if the user should be able to select dimensions and measures from lists. You must know the Dimension ID or the Measure ID, which is defined in the qLibraryID property. You must also state if it is a measure or a dimension in the qType property.

```jsx {4-8}
import { KPI } from "@motor-js/core";

<KPI
  cols={[
  {
    "qLibraryId":"eqZjE",
    "qType":"measure"
  }
]}
  ....
/>
```

## Examples

These examples are based off the Consumer Sales Qlik Sense application.

### Standard KPI

A standard KPI.

```jsx
function ColumnDemo() {
  return (
    <Motor config={config}>
      <KPI
        label="Revenue by Product Sub Group"
        cols={["=Sum( [Sales Quantity]*[Sales Price])"]}
      />
    </Motor>
  );
}
```

## Theme API

All components are styled from the main theme. Each theme can be overwtitten which will allow for all charts to share common functionality without having to set the props at an individual level.

Most of the chart settings are in global.chart. Changing any setting in the above will apply to all charts within the application. Specific KPI related theme items are stored in kpi. Changing these settings will apply to all KPIs within the application.

Theme settings can be overwritten at a global level. There are 2 possible approaches. Examples are shown below.

```javascript

import { Motor, ... } from @motor-js/core
//...

  const myTheme = {
    global: {
      colorTheme: "divergent9",
    },
  };

  <Motor config={config} theme={myTheme}>
    ...
  </Motor>

```

```javascript

import { Motor, ... } from @motor-js/core
//...
  <Motor config={config} theme={base}>
   { base.global.colorTheme = "divergent9"}
   { base.global.chart.allowSelections = false}
    ...
  </Motor>

```


### global.kpi

Settings in global.chart relevant for KPIS are below :

<table>
  <tr>
    <th>Setting</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <td>
      <code>allowSelections</code>
    </td>
    <td>Allows to enable / disable selctions on charts at a global level.</td>
    <td>
      <code>bool</code><br />
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Apply a background color to all charts within the application.</td>
    <td>
      <code>string</code><br />
      "white"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderRadius</code>
    </td>
    <td>Border radius for all charts.</td>
    <td>
      <code>string</code><br />
      "10px"
    </td>
  </tr>
  <tr>
    <th>
      <code>selection</code>
    </th>
    <th colSpan="2">
      <code>global.chart.selection</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>opacity</code>
    </td>
    <td>Opacity of the item selected</td>
    <td>
      <code>number</code>
     <br />1
    </td>
  </tr>
  <tr>
    <td>
      <code>stroke</code>
    </td>
    <td>Stroke of the item selected</td>
    <td>
      <code>string</code>
     <br />
      "black"
    </td>
  </tr>
  <tr>
    <td>
      <code>strokeWidth</code>
    </td>
    <td>Stroke width of the item selected</td>
    <td>
      <code>string</code>
     <br />
      "1px"
    </td>
  </tr>
  <tr>
    <th>
      <code>nonSelection</code>
    </th>
    <th colSpan="2">
      <code>global.chart.nonSelection</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>opacity</code>
    </td>
    <td>Opacity of the items not selected</td>
    <td>
      <code>number</code>
     <br />
      0.5
    </td>
  </tr>
  <tr>
    <td>
      <code>background</code>
    </td>
    <td>Background of the items not selected</td>
    <td>
      <code>string</code>
     <br />
      "var(--oc-gray-1)"
    </td>
  </tr>
  <tr>
    <th>
      <code>label</code>
    </th>
    <th colSpan="2">
      <code>global.chart.label</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>fontColor</code>
    </td>
    <td>Label color</td>
    <td>
      <code>string</code>
     <br />
      "fontAlt"
    </td>
  </tr>
  <tr>
    <th>
      <code>noData</code>
    </th>
    <th colSpan="2">
      <code>global.chart.noData</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>verticalAlign</code>
    </td>
    <td>Alignment of main object to display no data message</td>
    <td>
      <code>string</code>
     <br />
      "top"
    </td>
  </tr>
  <tr>
    <td>
      <code>display</code>
    </td>
    <td>Display of main object to display no data message</td>
    <td>
      <code>string</code>
     <br />
      "inline-block"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderRadius</code>
    </td>
    <td>Border radius of main object to display no data message</td>
    <td>
      <code>string</code>
     <br />
      "10px"
    </td>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Background color of main object to display no data message</td>
    <td>
      <code>string</code>
     <br />
      "var(--oc-gray-1)"
    </td>
  </tr>
  <tr>
    <td>
      <code>borderCollapse</code>
    </td>
    <td>Border collapse of main object to display no data message</td>
    <td>
      <code>string</code>
     <br />
      "collapse"
    </td>
  </tr>
  <tr>
    <th>
      <code>noDataContent</code>
    </th>
    <th colSpan="2">
      <code>global.chart.noDataContent</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>display</code>
    </td>
    <td>Display attribute for the no data message</td>
    <td>
      <code>string</code>
     <br />
      "inline-block"
    </td>
  </tr>
  <tr>
    <td>
      <code>alignItems</code>
    </td>
    <td>Alignment attribute for the no data message</td>
    <td>
      <code>string</code>
     <br />
      "center"
    </td>
  </tr>
  <tr>
    <td>
      <code>justifyContent</code>
    </td>
    <td>Justify attribute for the no data message</td>
    <td>
      <code>string</code>
     <br />
      "center"
    </td>
  </tr>
  <tr>
    <td>
      <code>margin</code>
    </td>
    <td>Margin attribute for the no data message</td>
    <td>
      <code>string</code>
     <br />
      "10px"
    </td>
  </tr>
  <tr>
    <th>
      <code>error</code>
    </th>
    <th colSpan="2">
      <code>global.chart.error</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>dimensionErrMsg</code>
    </td>
    <td>error mesage for invalid dimension</td>
    <td>
      <code>string</code>
     <br />
      "Invalid Dimension."
    </td>
  </tr>
  <tr>
    <td>
      <code>measureErrMsg</code>
    </td>
    <td>error mesage for invalid measure</td>
    <td>
      <code>string</code>
     <br />
      "Invalid Measure. No values returned."
    </td>
  </tr>
</table>

### kpi

Settings in kpi are below :

e.g. <code>kpi.wrapper.backgroundColor = "white"</code>

<table>
  <tr>
    <th>Setting</th>
    <th>Description</th>
    <th>Options / Example</th>
  </tr>
  <tr>
    <th>
      <code>wrapper</code>
    </th>
    <th colSpan="2">
      <code>kpi.wrapper</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>backgroundColor</code>
    </td>
    <td>Background color of the KPI</td>
    <td>
      <code>string</code>
     <br />
      "white"
     <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>radius</code>
    </td>
    <td>Radius of the KPI border</td>
    <td>
      <code>string</code>
     <br />
      "8px"
     <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>textAlign</code>
    </td>
    <td>Text alignment the KPI</td>
    <td>
      <code>string</code>
     <br />
      "center"
     <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>boxSizing</code>
    </td>
    <td>CSS box sizing the KPI</td>
    <td>
      <code>string</code>
     <br />
      "border-box"
     <br />
    </td>
  </tr>
  <tr>
    <th>
      <code>label</code>
    </th>
    <th colSpan="2">
      <code>kpi.label</code>
    </th>
  </tr>
  <tr>
    <td>
      <code>fontColor</code>
    </td>
    <td>Font color the KPI label</td>
    <td>
      <code>string</code>
     <br />
      "font"
     <br />
    </td>
  </tr>
  <tr>
    <td>
      <code>alignSelf</code>
    </td>
    <td>CSS align self attribute of the KPI label</td>
    <td>
      <code>string</code>
     <br />
      "center"
     <br />
    </td>
  </tr> <tr>
    <th>
      <code>value</code>
    </th>
    <th colSpan="2">
      <code>kpi.value</code>
    </th>
  </tr> <tr>
    <td>
      <code>fontColor</code>
    </td>
    <td>Font color the KPI value</td>
    <td>
      <code>string</code>
     <br />
      "brand"
     <br />
    </td>
  </tr>
</table>
```
